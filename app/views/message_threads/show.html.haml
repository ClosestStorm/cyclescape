%nav
  %ol
    %li= link_to t(".back"), {action: :index}

%section.thread
  %h1= @thread.title
  .info
    .privacy
      - if @thread.private_to_group?
        = t ".private_to_group_message", group: @thread.group.name
      - else
        = t ".public_message"

  - @messages.each do |message|
    %article.message{id: dom_id(message)}
      .details
        .author= link_to message.created_by.name, user_profile_path(message.created_by)
        %time{datetime: message.created_at}
          = t ".posted_date", time_ago: time_ago_in_words(message.created_at)
      - if message.is_a?(Message)
        .body
          = message.body
      - else
        = render "message/#{message_controller_map(message)}/show", message: message
  = render "messages/new"
