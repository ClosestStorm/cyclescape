%h1= t ".title", group: @group.name

%table
  %thead
    %th= t ".user"
    %th= t ".requested_at"
    %th= t ".status"
    %th= t ".actioned_by"
    %th
    %th
  - @requests.each do |r|
    %tr
      %td= link_to r.user.name, user_path(r.user)
      %td= t ".created_at", time_ago: time_ago_in_words(r.created_at)
      %td= r.status
      %td= link_to t(".by", name: r.actioned_by.name), user_path(r.actioned_by) if r.rejected? || r.confirmed?
      %td= link_to t(".confirm"), confirm_group_membership_request_path(@group, r), method: :post, confirm: t(".are_you_sure") if r.pending?
      %td= link_to t(".reject"), reject_group_membership_request_path(@group, r), method: :post, confirm: t(".are_you_sure") if r.pending?